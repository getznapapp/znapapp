<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta httpEquiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    
    <title>Znap</title>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html, body, #root {
            height: 100%;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0a0a0a;
            color: #ffffff;
            overflow: hidden;
        }
        
        #root {
            display: flex;
            flex: 1;
        }
        
        /* Loading screen styles */
        .loading-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: #0a0a0a;
            color: #ffffff;
            flex-direction: column;
            gap: 20px;
        }
        
        .loading-title {
            font-size: 24px;
            font-weight: 600;
        }
        
        .loading-dots {
            display: flex;
            gap: 8px;
        }
        
        .loading-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #6366f1;
            opacity: 0.6;
            animation: pulse 1.5s ease-in-out infinite;
        }
        
        .loading-dot:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .loading-dot:nth-child(3) {
            animation-delay: 0.4s;
        }
        
        @keyframes pulse {
            0%, 100% {
                opacity: 0.6;
                transform: scale(1);
            }
            50% {
                opacity: 1;
                transform: scale(1.2);
            }
        }
    </style>
</head>
<body>
    <div id="root">
        <div class="loading-container">
            <h1 class="loading-title">Loading Znap...</h1>
            <div class="loading-dots">
                <div class="loading-dot"></div>
                <div class="loading-dot"></div>
                <div class="loading-dot"></div>
            </div>
        </div>
    </div>
    
    <script>
        // Debug info for development
        console.log('=== ZNAP WEB APP DEBUG ===');
        console.log('Current URL:', window.location.href);
        console.log('Pathname:', window.location.pathname);
        console.log('Search params:', window.location.search);
        console.log('User agent:', navigator.userAgent);
        
        // Get cameraId from URL parameters for debugging
        const urlParams = new URLSearchParams(window.location.search);
        const cameraId = urlParams.get('cameraId');
        console.log('Camera ID from URL:', cameraId);
        
        // Check if this is a redirect route that might need special handling
        if (window.location.pathname === '/redirect' && cameraId) {
            console.log('âœ… Redirect route detected with cameraId:', cameraId);
        }
        
        // Log if we're in an embedded webview (like Messenger, Instagram, etc.)
        const isEmbeddedWebview = /FBAN|FBAV|Instagram|Messenger|WebView|wv\)|Version.*Chrome\/[.0-9]* Mobile/i.test(navigator.userAgent);
        console.log('Is embedded webview:', isEmbeddedWebview);
    </script>
</body>
</html>